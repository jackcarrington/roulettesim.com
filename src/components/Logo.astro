---
import { Image } from 'astro:assets'
import logo from '../assets/img/logo.svg'

/**
 * Logo Component
 *
 * @description Logo description
 */
interface Props {
  /**
   * Whether to load the image eagerly or lazily
   * @default 'eager'
   */
  loading?: 'eager' | 'lazy'
}

const { loading = 'eager' }: Props = Astro.props
---

<a href="/" class="flex items-center !no-underline">
  <Image src={logo} alt="Roulette Sim Logo" width="100" height="78" loading={loading} />
</a>

<style lang="scss">
  a {
    color: var(--foreground-color);
    
    img {
      // Default: no filter for light mode
      filter: none;
      transition: filter 0.2s ease-in-out;
      
      // Dark mode detection using CSS custom properties from Accessible Astro Components
      // The framework sets color-scheme: dark on .darkmode class
      :global(.darkmode) & {
        filter: invert(1) brightness(1);
      }
      
      // Also support system dark mode preference
      @media (prefers-color-scheme: dark) {
        filter: invert(1) brightness(1);
        
        // But override if light mode is explicitly set
        :global(:not(.darkmode)) & {
          filter: none;
        }
      }
    }
  }
</style>
